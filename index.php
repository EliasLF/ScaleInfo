<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>ScaleInfo<?php
			$scales = array("","","Vietnamese ditonic","Chromatic Trimirror","Cheremis Ditonic","","","Chromatic Tetramirror","","","","","","Alternating Tetramirror","","Chromatic Pentamirror","Honchoshi 2","","","","Vietnamese Tritonic","Phrygian Tetrachord","Dorian Tetrachord","","","Synthetic Scales 20","Major Tetrachord","","","Spanish Pentacluster","","Chromatic Hexamirror","","","","","Diminished Triad","","Harmonic Minor Tetrachord","Blues Pentacluster","","Raga Puriya Kalyan","Whole-Tone Tetramirror","","","","","","","Synthetic Scales 17","","Oriental Pentacluster","Synthetic Scales 18","Locrian Pentamirror","","","","Greek Arkaik","","","","","","Chromatic Heptamirror","Power Chord","","Suspended 2 Triad","","Minor Triad","","","","Major Triad","","Eskimo Tetratonic","","","","","","Suspended 4 Triad","","Genus primum","","Bati","","Chad Gadyo","","","","Raga Budhamanohari","","","Infra-Diatonic","","","Raga Ongkari","Messiaen Truncated Mode 5","","Raga Nabhomani 2","","Japanese Pentachord","","","","Balinese Pentachord","Lydian Pentachord","","","Istrian","","","","","","","","","","","","","Raga Dipak","","","","","Chromatic Octamirror","","","","","","","","","Augmented Triad","Dalic","Mixolyric","Poditonic","Lanic","Aerylitonic","Zaritonic","Gynimic","","Raga Lavangi","Raga Haripriya 2","Gyritonic","Mynic","Raga Chitthakarshini","Raga Audav Tukhari","Golimic","Gonic","Raga Megharanjani","Altered Major Pentatonic","Stagimic","Center-Cluster Pentamirror","Stodimic","Korimic","Epodian","","","Messiaen Truncated Mode 6","Syptitonic","Lonic","Locrian Pentatonic","Aeolian 5b Pentatonic","Zanimic","Koptic","Zaptitonic","Bothitonic","Ionorimic","Gylitonic","Barimic","Borimic","Epanian","","Aeoloritonic","Banitonic","Bothimic","Bocritonic","Soptimic","Marimic","Aerodian","Laditonic","Rythimic","Epagimic","Sodian","Kathimic","Aeragian","Kogian","Logyllic","","","","","Lothic","Phrygian Pentatonic","Aeolian Pentatonic","Zynimic","Synthetic Scales 19","Pentatonic Major 2b 6b","Pentatonic Major 6b","Zylimic","Augmented Pentatonic","Lygimic","Ganimic","Aeoladian","","Tcherepnin Minor Pentatonic Mode 4","Han-kumoi","Sogimic","Raga Kokil Pancham","Raga Suddha Simantini","Koptimic","Epyrian","Raga Zilaf","Raga Purna Pancama","Ronimic","Bythian","Thycrimic","Kothian","Gocrian","Thyphyllic","","Raga Saugandhini","Raditonic","2-Semitone Tritone","Staptitonic","Zaptimic","Raga Syamalam","Zythian","Zoditonic","Raga Dhavalangam","Katyrimic","Dodian","Aeralimic","Aeolygian","Stacrian","Kocryllic","","Kygimic","Stoptimic","Dynian","Phrathimic","Aeolyrian","Rygian","Bocryllic","Kadimic","Ionaptian","Katylian","Thoptyllic","Sanian","Moryllic","Ionothyllic","Chromatic Nonamirror","","","","","","","","","Raga Bilwadala","","","","","","","","","Pyrric","Rothic","Aeoloditonic","Phradic","Aeolycritonic","Raga Abhogi","Lylimic","Phratic","Thacritonic","Aeolyphritonic","Aeoladimic","Mothitonic","Kynimic","Saptimic","Ionydian","","","Bolic","Aeritonic","Diminished 7th Chord","Pentatonic Major 3b","Ionalitonic","Gaptimic","Saric","Pentatonic Major 2b 5b","Pentatonic Major 5b","Thyrimic","Bycritonic","Aeolygimic","Dycrimic","Kadian","","Anchihoye","Phralitonic","Phrothimic","Katycritonic","Double Phrygian Hexatonic","Pyramid Hexatonic","Sycrian","Ionyptitonic","Mogimic","Raga Ras Chandra","Zygian","Kydimic","Epolian","Debussy's Heptatonic","Ionaryllic","","","","","Minor 6th Chord","Golitonic","Dorian Pentatonic","Kataptimic","Major 6th Chord","Pentatonic Major 2b","Pentatonic Major","Phrynimic","Raga Mohanangi","Blues Dorian Hexatonic","Blues Major","Stycrian","","Altered Pentatonic","Scottish Pentatonic","Lanimic","Pentatonic Minor Major 6","Stogimic","Raga Suddha Bangala","Aeolythian","Raga Nagasvaravali","Raga Kalavati","Arezzo Major Diatonic Hexachord","Sarian","Lagimic","Aerothian","Mixonyphian","Aerocryllic","","","Raga Shri Kalyan","Raga Chandrajyoti","Thoptitonic","Messiaen Truncated Mode 2","Raga Vijayanagari","Kanian","Raga Dhavalashri","Ionadimic","Ancient Chinese","Phradian","Stygimic","Superlocrian 6b 7b","Donian","Sylyllic","","Rorimic","Gathimic","Chromatic Hypophrygian Inverse","Kolimic","Lynian","Aeologian","Epitygic","Kytrimic","Phrythian","Genus diatonicum veterum correctum","Katalyllic","Ponian","Doryllic","Mixonyphyllic","Raptygic","","","","Raga Putrika","","","","","Aeoloric","Aeolapritonic","Zogitonic","Aeoloptimic","Mocritonic","Aeologimic","Katocrimic","Lolian","","Synthetic Scales 13","Rothitonic","Raga Suddha Mukhari","Dogitonic","Radimic","Larimic","Bolian","Zothitonic","Augmented Inverse","Aeranimic","Stodian","Thyptimic","Mixolocrian","Lygian","Rodyllic","","","Epaditonic","Ionathimic","Phrothitonic","Molimic","Raga Neelangi","Ganian","Aerynitonic","Raga Hejjajji","Epothimic","Ultralocrian 3b","Equal temperaments 3 and 4 mixed","Altered Diminished","Synthetic Scales 6","Pyryllic","","Phrocrimic","Kothimic","Locrian 3b 7b","Bagimic","Diminished 2b","Locrian 2# 7b","Aeolocryllic","Aerothimic","Ralian","Sathian","Sathyllic","Borian","Ionilyllic","Pycryllic","Aeolathygic","","","","","Bylitonic","Tholimic","Katarimic","Radian","Aeolyritonic","Raga Kalagada","Bebop Major Hexatonic","Chromatic Phrygian Inverse","Bogimic","Ultraphrygian","Chromatic Hypodorian","Koptyllic","","Raga Kalakanthi","Dadimic","Chromatic Dorian","Stothimic","Mela Senavati","Mela Jhankaradhvani","Aerygyllic","Raga Saravati","Gypsy Hexatonic","Mela Mararanjani","Thogyllic","Mela Yagapriya","Ionogyllic","Phronyllic","Katylygic","","","Ionothimic","Mela Salaga","Ionogimic","Mela Gavambodhi","Mela Syamalangi","Tcherepnin Octatonic Mode 3","Kocrimic","John Foulds' 'Mantra of Will'","Mixolydian Contracted","Epygyllic","Mela Sucaritra","Aeraptyllic","Phrolyllic","Aeolygic","","Phrathian","Rycrian","Bylyllic","Badian","Ionyryllic","Radyllic","Ionycrygic","Katyptian","Kycryllic","Stydyllic","Ionodyllic","Dythyllic","Aeranygic","Ladygic","Chromatic Decamirror","Warao ditonic","","","","Ute tritonic","","Warao tetratonic","","Italian Sixth","","","","","","","","Sansagari","","","","","","","","","","","","","","","","","","Lydic","Phrythitonic","Half-Diminished 7th Chord","Dyritonic","Stothitonic","Lynimic","Dominant 7th flat 5 Chord","Mogitonic","Five-Note Prometheus","Sycrimic","Locrian Pentatonic 2","Superlocrian Hexamirror","Raptimic","Rarian","","Tcherepnin Minor Pentatonic Mode 2","Ionaritonic","Eparimic","Blues 1","Honchoshi plagal form","Stycrimic","Katolian","Stonitonic","Aerygimic","Rynimic","Styrian","Zygimic","Epynian","Bydian","Mythyllic","","","","","Minor 7th Chord","Raga Rukmangi","Pygmy","Aerodimic","Dominant 7th Chord","Raga Manaranjani 1","Dominant Pentatonic","Epycrimic","Pentatonic Major 2# 7b","Sonimic","Katagimic","Sadian","Genus Primum Inverse","Insen 2","Suspended Pentatonic","Pyrimic","Pentatonic Minor","Raga Gandharavam","Aeloian Hexatonic","Magian","Mixolydian Pentatonic","Raga Gaula 2","Raga Siva Kambhoji","Aeoloptian","Raga Bhanumanjari","Zadian","Gyrian","Aeolanyllic","","","Epyritonic","Phryptimic","Raga Samudhra Priya","Thacrimic","Raga Simharava","Logian","Mayan Long Count","Tritone","Salimic","Epaptian","Pygimic","Epylian","Lathian","Mygyllic","","Sylimic","Zolimic","Chromatic Mixolydian","Blues Minor","Blues Phrygian","Modified Blues","Stynyllic","Pynimic","Katynian","Dorian Contracted","Kolyllic","Blues Heptatonic","Stagyllic","Zadyllic","Sarygic","","","","","","","","","Augmented Minor 7th Chord","Aerophitonic","Koditonic","Epolimic","Dynitonic","Katorimic","Pogimic","Bynian","","Pyritonic","Chaio 2","Phronimic","Tcherepnin Major Pentatonic Mode 3","Raga Suddha Todi","Phradimic","Zalian","Epygitonic","Raga Vasantabhairavi","Lyptimic","Elephant Scale","Epogimic","Kycrian","Aeolian Contracted","Zalyllic","","","Tholitonic","Aeraptimic","Chin","Raga Bhavani","Takemitsu Tree Line mode 2","Phrygian Contracted","Pentatonic Whole-Tone","Gygimic","Whole-Tone","Leading Whole-Tone Inverse","Boptimic","Diminished Whole-Tone","Semilocrian 4b","Bothyllic","","Kycrimic","Padimic","Pynian","Phracrimic","Locrian","Half-Diminished","Aeradyllic","Mycrimic","Asian (a)","Major Locrian","Syryllic","Spanish Heptatonic","Esplá's Scale","Goryllic","Tharygic","","","","","Raga Shailaja","Raga Kashyapi","Raga Trimurti","Doptian","Ryphitonic","Lolimic","Bythimic","Phragian","Dynimic","Phrygian 4b","Sabach ascending","Rolyllic","","Insen","Raga Navamanohari","Mela Ratnangi","Phrygian Hexatonic","Phrygian","Minor","Phrygian and Aeolian mixed","Raga Kamalamanohari","Phrygian Dominant","Melodic major","Zaptyllic","Mela Ragavardhani","Spanish Phrygian 2","Epiryllic","Radygic","","","Raga Jaganmohanam","Mela Jalarnava","Zagimic","Mela Bhavapriya","Hungarian Gypsy","Lycryllic","Raga Jyoti","Mela Namanarayani","Lydian Minor","Messiaen Mode 6","Mela Jyotisvarupini","Bebop Locrian","Stygyllic","Padygic","","Zynian","Ragian","Styptyllic","Stathian","Phrygian and Locrian mixed","Sagyllic","Aeolian and Locrian mixed","Stanian","Zothyllic","Sodyllic","Aeolyrigic","Kataryllic","Styptygic","Katycrygic","Mixodyllian","","","","","","","","","","","","","","","","","","Lagitonic","Raga Guhamanohari","Zycrimic","Raga Chandrakauns (Kafi)","Sagimic","Raga Kapijingla","Salian","Raga Khamaji Durga","Raga Rudra Pancama","Raga Rageshri","Rodian","Zogimic","Dacrian","Raga Ravikosh","Pocryllic","","","Zanitonic","Epytimic","Thyritonic","Dacrimic","Thylimic","Sydian","Phronitonic","Prometheus Neapolitan","Prometheus","Lothian","Lythimic","Superlocrian 6#","Synian","Rynyllic","","Sygimic","Syptimic","Aeolothian","Bocrimic","Locrian 6#","Dorian 5b","Polyllic","Bolimic","Oriental 1","Minor Romani Inverse","Katygyllic","Ionothian","Maqam Shadd'araban","Gonyllic","Lydygic","","","Raga Matha Kokila","","Thocritonic","Raga Salagavarali","Raga Manavi","Kydian","Raga Valaji","Raga Malayamarutam","Zeracrimic","Phralian","Lorimic","Dorian 2b 4b","Banshikicho","Phrodyllic","Raga Kuntalavarali","Raga Rasavali","Mixolydian Hexatonic","Mela Vanaspati","Pentatonic Minor added 6","Melodic Minor Inverse","Dorian","Adonai Malakh","Raga Khamas","Harmonic Minor Inverse","Mixolydian","Lyryllic","Mela Vagadhisvari","JG Octatonic","Bebop Dorian","Sydygic","","","Raga Sarasvati","Mela Navanitam","Raga Madhukauns","Mela Sadvidhamargini","Dorian 4#","Epigyllic","Raga Vutari","Petrushka chord","Lydian Dominant","Aeolyryllic","Hungarian Major","Diminished Blues","Ionyphyllic","Pylygic","","Katalian","Lonian","Dyryllic","Blues 4","Stylyllic","Blues 2","Lyrygic","Saptian","Aerythyllic","Gocryllic","Youlan","Tharyllic","Mycrygic","Blues 3","Aerygyllian","","","","","","","","","Ranitonic","Kyptimic","Katothimic","Godian","Phrythimic","Pydian","Aeradian","Phralyllic","","Katygimic","Pathimic","Pothian","Ionacrimic","Byptian","Dalian","Zogyllic","Thogimic","Mixolydian Augmented 2b","Mixolydian Augmented","Thacryllic","Chromatic Hypodorian Inverse","Zacryllic","Phrynyllic","Maryllic","","","Phrygimic","Pycrian","Thagimic","Solian","Katyrian","Aeolyllic","Dathimic","Persichetti Scale","Synthetic Mixture 5#","Mixoryllic","Korian","Mixopyryllic","Equal temperaments 4 and 6 mixed","Aerocrygic","","Hijaz Major","Ionylian","Salyllic","Ionopian","Moptyllic","Ionidyllic","Rocrygic","Katacrian","Lynyllic","Epicryllic","Messiaen Mode 3","Zathygic","Thydygic","Sacrygic","Rocryllian","","","","","Aeolycrimic","Stogian","Mocrian","Mycryllic","Galimic","Dathian","Aeranian","Marygic","Zarian","Ionoyllic","Mathyllic","Gonygic","","Sonian","Pyrian","Katolyllic","Soptian","Epocryllic","Dorian and Aeolian mixed","Diatonic Dorian mixed","Stylian","Aerynyllic","Zyryllic","Ionocrygic","Dagyllic","Raga Ahi Mohini","Modes of Major Pentatonic mixed","Soryllian","","","Dydian","Phryptyllic","Katoptian","Sideways Scale","Raga Cintamani","Zacrygic","Gydian","Lolyllic","Gygyllic","Stonygic","Stacryllic","Scriabin Nonatonic 1","Mocrygic","Epiryllian","","Palyllic","Katycryllic","Zodygic","Mixolydyllic","Boptygic","Mathygic","Gadyllian","Stolyllic","Aerythygic","Sythygic","Danyllian","Aeolacrygic","Maqam Tarzanuyn","Katogyllian","Chromatic Harmonic","","","","","","","","","","","","","","","","","","","","","","","","","","Raga Megharanji","","","","","","","Enigma Three-Tone","","Raga Sumukam","","Diminished Major 7th Chord","","","","Major 7th flat 5 Chord","","Raga Kumudki","","","","","","Messiaen Truncated Mode 5 Inverse","","","","","","","","","","","","","","","","","","","","Minor-Major 7th Chord","Ionothitonic","Raga Hamsadhvani 1","Thydimic","Major 7th Chord","Zalitonic","Raga Hamsadhvani 2","Dyptimic","Ionagitonic","Dorimic","Ionocrimic","Mygian","","Raga Gauri","Tcherepnin Major Pentatonic Mode 2","Ranimic","Raga Nata","Phrydimic","Raga Sindhura Kafi","Konian","Ionian Pentatonic","Raga Gaula","Raga Nalinakanti","Macrian","Donimic","Bathian","Epothian","Dacryllic","","","Raga Vaijayanti","Raga Vijayasri","Raga Multani","Zodimic","Raga Amarasenapriya","Dylian","Tcherepnin Minor Pentatonic Mode 5","Raga Mandari","Raga Caturangini","Lycrian","Raga Rasamanjari 2","Padian","Pygian","Poptyllic","","Messiaen Mode 5","Kagimic","Dyrian","Blues Minor 7#","Aeolyptian","Aerogian","Lodyllic","Mocrimic","Raga Pushp Ranjani","Gorian","Kogyllic","Thylian","Phraptyllic","Raga Viranch Mukhi","Stanygic","","Synthetic Scales 16","","Raga Kumarapriya","Dichotomous Progression","","","","Augmented Major 7th Chord","Doptitonic","Pynitonic","Epalimic","Styditonic","Dylimic","Stynimic","Epydian","","Raga Kshanika","Raga Priyadharshini","Tharimic","Raga Chandrakauns","Raga Viyogavarali","Raga Ghantana","Gynian","Bacovia","Raga Hamsanandi 2","Raga Sarasanana","Gadian","Docrimic","Kataptian","Sythian","Laryllic","","","Dyptitonic","Aeolaptimic","Bartók Gamma Chord","Raga Gurjari Todi","Takemitsu Tree Line mode 1","Katorian","Augmented Pentatonic 2","Paptimic","Eskimo Hexatonic 2","Molian","Zathimic","Superlocrian 7#","Stagian","Zanyllic","","Lycrimic","Katalimic","Zylian","Zacrimic","Locrian 7#","Harmonic Minor 5b","Lothyllic","Raga Gangatarangini","Chromatic Hypolydian Inverse","Malian","Thocrygic","Rorian","Katoryllic","Kadyllic","Gythygic","","Raga Deshgaur","","","Kyritonic","Panimic","Zadimic","Thagian","Synthetic Scales 12","Aumented","Raga Latika","Bothian","Augmented Hexatonic","Maqam Huzzam Hijaz","Sagian","Ionathyllic","Raga Devaranjani","Raga Padi","Raga Bhinna Pancama","Mela Ganamurti","Raga Takka","Neapolitan Minor","Harmonic Minor","Neapolitan and Harmonic Minor mixed","Raga Paraju","Double Harmonic Major","Harmonic Major","Phroptyllic","Sengah","Layllic","Manyllic","Aeolocrygic","","","Ralimic","Mela Jhalavarali","Mydimic","Chromatic Lydian Inverse","Hungarian Minor","Synthetic Scales 7","Aerycrimic","Chromatic Hypolydian","Harmonic Lydian","Dathyllic","Mela Dhatuvardhani","Rygyllic","Aeolaryllic","Phradygic","","Danian","Podian","Messiaen Mode 4","Laptian","Bebop Half-diminished","Algerian","Dydygic","Thycrian","Raga Ramkali 1","Rydyllic","Zoptygic","Aeolaptyllic","Bythyllic","Dothygic","Zogyllian","","","","","","","","","","","Raga Neroshta","","","","","","","Rolitonic","Raga Rasranjani","Malimic","Raga Chandrakauns (Modern)","Gadimic","Rylimic","Aerolian","Tcherepnin Minor Pentatonic Mode 3","Raga Vasanta","Raga Hamsa Vinodini","Thoptian","Pylimic","Ionyrian","Ionogian","Aerylyllic","","","Raga Shubravarni","Macrimic","Bartók Beta Chord","Gocrimic","Raga Ranjani","Dothian","Raga Hindol","Raga Hamsanandi 1","Raga Mruganandana","Dadian","Aeolythimic","Panian","Sygian","Thocryllic","","Katynimic","Stydimic","Lalian","Aeradimic","Neapolitan Major 5b","Jeths' mode","Lylyllic","Mythimic","Chromatic Lydian","Ionian 5b","Rathyllic","Aerycrian","Thodyllic","Ionoryllic","Thacrygic","","","","","Katagitonic","Sythimic","Hawaiian 2","Galian","Raga Mamata","Banimic","Raga Kumud","Stolian","Lydian Hexatonic 2#","Neapolitan Major 4b","Basketmaker Seven","Zocryllic","Raga Puruhutika","Raga Jivantika","Raga Nagagandhari","Mela Manavati","Aeragimic","Neapolitan Major","Melodic Minor (Ascending)","Gynyllic","Raga Hari Nata","Bhairubahar Thaat","Major","Staptyllic","Houzam 1 ascending","Stythyllic","Katagyllic","Sylygic","","","Raga Nishadi","Mela Pavani","Dagimic","Mela Suvarnangi","Lydian Diminished","Raga Sawan","Dyrimic","Peiraiotikos","Lydian","Godyllic","Lydian 2#","Shostakovich","Gycryllic","Gothygic","","Zyrian","Zolian","Ionyptyllic","Eporian","Van der Horst Octatonic","Stalyllic","Epilygic","Zangula","Raga Bhatiyar","Ionian and Lydian mixed","Zylygic","Gythyllic","Barygic","Zolygic","Aeradyllian","","","","","","","","","Dolitonic","Ionygimic","Aelothimic","Lyptian","Sothimic","Synthetic Scales 9","Baptian","Phracryllic","","Katoptimic","Baptimic","Epocrain","Stythimic","Phrycrian","Jazz Minor 5#","Aerogyllic","Solimic","Ionian Augmented 2b","Ionian Augmented","Stanyllic","Ionian Augmented 2#","Ganyllic","Phrylyllic","Stadygic","","","Byrimic","Gaptian","Thoptimic","Phrogian","Lylian","Aeoryllic","Rycrimic","Kagian","Lydian Augmented","Gothyllic","Lydian Augmented 2#","Magen Abot","Mocryllic","Katygic","","Aeolydian","Nohkan Flute scale","Molyllic","Pogian","Baryllic","Diminished 1","Rodygic","Aeolathian","Zathyllic","Dalyllic","Modygic","Aeolathyllic","Goptygic","Laptygic","Dathyllian","","","","","Ionylimic","Thorian","Thygian","Dygyllic","Bygimic","Bygian","Darian","Madyllic","Tholian","Aeolynyllic","Panyllic","Gaptyllic","","Gyptian","Noh","Zythyllic","Epacrian","Neapolitan Major and Minor mixed","Bebop Melodic Minor","Zanygic","Stythian","Raga Saurashtra","Bebop Major","Chromatic Permutated Diatonic Dorian","Lonyllic","Genus Chromaticum","Gycrygic","Zyryllian","","","Thynian","Laptyllic","Gacrian","Mothygic","Gyptyllic","Aeracrygic","Epycrian","Rythyllic","Ionocryllic","Epithygic","Doptyllic","Gocrygic","Nine-Note","Godyllian","","Ionayllic","Raptyllic","Panygic","Aeronyllic","Stalygic","Zycrygic","Messiaen Mode 7","Phroryllic","Raga Saajgiri","Apinygic","Solyllian","Zothygic","Goptyllian","Maqam Shawq Afza","Solatic","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Kanitonic","Polimic","Stolitonic","Ryrimic","Phrycrimic","Pacrian","Zathitonic","Ladimic","Zyptimic","Stocrian","Kodimic","Rogian","Mylian","Thynyllic","","Zythimic","Zarimic","Eponian","Rothimic","Daptian","Rolian","Mixonyllic","Messiaen Mode 5 Inverse","Koptian","Aeolonian","Bynyllic","Zathian","Raryllic","Gylyllic","Thaptygic","","","","","Synthetic Scales 15","Epacrimic","Eponimic","Katydian","Molitonic","Ionaphimic","Bycrimic","Thyphian","Ionalimic","Aeolocrian","Aeolaptian","Kataptyllic","","Pothimic","Raga Brindabani Sarang","Mela Tanarupi","Dalimic","Mela Rupavati","Mela Varunapriya","Aeolonyllic","Raga Tilang","Mela Hatakambari","Mela Naganandini","Daryllic","Mela Calanata","Lacrygic","Dodyllic","Pyrygic","","","Raga Malarani","Mela Raghupriya","Raga Jivantini","Mela Divyamani","Mela Nitimati","Pythyllic","Raga Vijayavasanta","Mela Visvambhari","Mela Citrambari","Phrathyllic","Lydian 2# 6#","Kodyllic","Saryllic","Phroptygic","","Syptian","Chromatic Mixolydian Inverse","Soptyllic","Chromatic Hypophrygian","Boptyllic","Bycryllic","Mixodygic","Aeolacrian","Tcherepnin Octatonic mode 1","Lanyllic","Tholygic","Blues 5","Phrygygic","Epagyllic","Madyllian","","","","","","","","","Zylitonic","Synimic","Aeolocrimic","Karian","Phraptimic","Bagian","Phrodian","Bonyllic","","Rogimic","Katolimic","Moptian","Mixolimic","Aeolylian","Lodian","Kygyllic","Phralimic","Enigmatic descending","Katanian","Daptyllic","Chromatic Phrygian","Aeryptyllic","Socryllic","Aeolynygic","","","Sydimic","Zonian","Palimic","Enigmatic Minor","Stynian","Katocryllic","Katanimic","Enigmatic","Leading Whole-Tone","Ionaptyllic","Golian","Magan Abot","Aerothyllic","Lothygic","","Zacrian","Marian","Zyptyllic","Thonian","Prokofiev","Gathain","Lythygic","Thacrian","Enigmatic Mixed","Messiaen Mode 6 Inverse","Kynygic","Bacryllic","Garygic","Katarygic","Ryptyllian","","","","","Katathimic","Katonian","Monian","Gyryllic","Lathimic","Kylian","Kyptian","Rothyllic","Katathian","Neveseri descending","Sabach descending","Byptygic","","Tharian","Rathian","Banyllic","Phrolian","Gregorian 3","Utility Minor","Zyphygic","Stygian","Maqam Hijaz","Stogyllic","Epolygic","Dydyllic","Moorish Phrygian","Epocrygic","Raga Sindhi-Bhairavi","","","Zocrian","Ronyllic","Stalian","Dycryllic","Thadyllic","Aeroptyllic","Katogian","Aeoryllic","Racryllic","Symmetrical Nonatonic","Thyptyllic","Sadygic","Messiaen Mode 3 Inverse","Sagyllian","","Pylyllic","Thophygic","Aerathygic","Pothyllic","Ionoptygic","Aeolorygic","Epityllian","Aeoladyllic","Dyrygic","Kaptygic","Symmetrical Decatonic","Loptygic","Zyphyllian","Epocryllian","Zylatic","","","","","","","","","","","","","","","","","","Thanimic","Gylimic","Aerocrian","Podimic","Kalian","Boptian","Gydyllic","Daptimic","Katygian","Kygian","Paptyllic","Thocrian","Kydyllic","Zycryllic","Eporygic","Synthetic Scales 14","","Sathimic","Mathian","Epynimic","Polian","Mixodorian","Sonyllic","Stalimic","Kaptian","Mothian","Aeonyllic","Ranian","Monyllic","Katynygic","Rycrygic","","Dycrian","Kodian","Zonyllic","Katocrian","Badyllic","Epaptyllic","Kodygic","Ionarian","Oriental 2","Bagyllic","Katalygic","Messiaen Mode 4 Inverse","Rynygic","Locrygic","Dycryllian","","","","","Phragimic","Myptian","Kyrian","Tholyllic","Starimic","Aeryrian","Gycrian","Ionagyllic","Raga Homshikha","Ioninyllic","Anasazi-7","Thadygic","","Myrian","Raga Sorati","Aerathyllic","Phraptian","Phryryllic","Bebop Harmonic Minor","Darygic","Raga Madhuri","Modyllic","Bebop Dominant","Bebop Chromatic","Aeracryllic","Stophygic","Blues Enneatonic 2","Loptyllian","","","Gyphian","Phrygyllic","Epagian","Kagyllic","Eporyllic","Stodygic","Aeopian","Epothyllic","Rocryllic","Aeralygic","Maptyllic","Epidygic","Moptygic","Bagyllian","","Epogyllic","Aeologyllic","Mylyllic","Zoryllic","Aeolanygic","Epyrygic","Epinyllian","Pynyllic","Dorygic","Lydian and Mixolydian mixed","Ionyllian","Blues 6","Scriabin Decatonic 2","Minor Pentatonic with leading tones","Mixolatic","","","","","","","","","Ponimic","Aeolarian","Phroptian","Eparyllic","Starian","Storyllic","Bygyllic","Aerynygic","","Aeryptian","Thanian","Pathyllic","Morian","Kyryllic","Styryllic","Phrathygic","Parian","Ryryllic","Phrocryllic","Eparygic","Locryllic","Katorygic","Bycrygic","Aeogyllian","","","Rydian","Katyryllic","Bonian","Gogyllic","Epaphyllic","Lynygic","Pythian","Stoptyllic","Thyryllic","Monygic","Aeolothyllic","Aerygic","Ionidygic","Kataphyllian","","Dogyllic","Stathyllic","Zynygic","Lydyllic","Ryptygic","Koptygic","Mathyllian","Thagyllic","Galyllic","Porygic","Katagyllian","Mixolydygic","Aeoryllian","Messiaen Mode 7 Inverse","Soratic","","","","","Kythian","Dynyllic","Kiva","Thyptygic","Thadian","Loryllic","Sythyllic","Badygic","Ioniptyllic","Ionygic","Dogygic","Dydyllian","","Sadyllic","Phradyllic","Doptygic","Phranyllic","Styrygic","Full Minor","Phradyllian","Dolyllic","Lonygic","Raga Pahadi","Styptyllian","Kalyllic","Ragyllian","Ionian and Aeolian mixed","Godatic","","","Ionyllic","Ionogygic","Zaryllic","Phrocrygic","Gyptygic","Thogyllian","Stycryllic","Ionilygic","Kyrygic","Dagyllian","Phrygic","Scriabin Decatonic 1","Staptyllian","Eptatic","","Aeolarygic","Starygic","Rygyllian","Sathygic","Katyllian","Gothyllian","Ionatic","Manygic","Bathyllian","Sydyllian","Aeolatic","Native American Flute Chromatic","Thydatic","Aerycratic","Chromatic");
			if( isset($_GET["index"]) && isset($_GET["root"])){
				if(strlen($_GET["root"])>1){
					echo ": ".substr(strtoupper($_GET["root"]),0,1)."b ".$scales[(intval($_GET["index"])-1)/2];
				}
				else{
					echo ": ".strtoupper($_GET["root"])." ".$scales[(intval($_GET["index"])-1)/2];
				}
			}
		?></title>
		
		<link rel="icon" type="image/svg+xml" href="../logo/favicon.svg" sizes="any">
		<meta name="application-name" content="ScaleInfo">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-title" content="ScaleInfo">
		<meta name="msapplication-TileColor" content="#aaa">
		<meta name="theme-color" content="#aaa">
		<meta name="apple-mobile-web-app-status-bar-style" content="#aaa">
		<meta name="msapplication-config" content="../logo/browserconfig.xml?v=190925022706">
		<link rel="apple-touch-icon" sizes="57x57" href="../logo/apple-touch-icon-57x57.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="60x60" href="../logo/apple-touch-icon-60x60.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="72x72" href="../logo/apple-touch-icon-72x72.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="76x76" href="../logo/apple-touch-icon-76x76.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="114x114" href="../logo/apple-touch-icon-114x114.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="120x120" href="../logo/apple-touch-icon-120x120.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="144x144" href="../logo/apple-touch-icon-144x144.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="152x152" href="../logo/apple-touch-icon-152x152.png?v=190925022706">
		<link rel="apple-touch-icon" sizes="180x180" href="../logo/apple-touch-icon-180x180.png?v=190925022706">
		<link rel="icon" type="image/png" href="../logo/android-chrome-36x36.png?v=190925022706" sizes="36x36">
		<link rel="icon" type="image/png" href="../logo/android-chrome-48x48.png?v=190925022706" sizes="48x48">
		<link rel="icon" type="image/png" href="../logo/android-chrome-72x72.png?v=190925022706" sizes="72x72">
		<link rel="icon" type="image/png" href="../logo/android-chrome-96x96.png?v=190925022706" sizes="96x96">
		<link rel="icon" type="image/png" href="../logo/android-chrome-144x144.png?v=190925022706" sizes="144x144">
		<link rel="icon" type="image/png" href="../logo/android-chrome-192x192.png?v=190925022706" sizes="192x192">
		<link rel="icon" type="image/png" href="../logo/favicon-16x16.png?v=190925022706" sizes="16x16">
		<link rel="icon" type="image/png" href="../logo/favicon-32x32.png?v=190925022706" sizes="32x32">
		<link rel="icon" type="image/png" href="../logo/favicon-96x96.png?v=190925022706" sizes="96x96">
		<link rel="shortcut icon" type="image/x-icon" href="../logo/favicon.ico?v=190925022706">
		<meta name="msapplication-TileImage" content="../logo/mstile-150x150.png?v=190925022706">
		<meta name="msapplication-square70x70logo" content="../logo/mstile-70x70.png?v=190925022706">
		<meta name="msapplication-square150x150logo" content="../logo/mstile-150x150.png?v=190925022706">
		<meta name="msapplication-wide310x150logo" content="../logo/mstile-310x150.png?v=190925022706">
		<meta name="msapplication-square310x310logo" content="../logo/mstile-310x310.png?v=190925022706">
		<link href="../logo/apple-touch-startup-image-320x460.png?v=190925022706" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-640x920.png?v=190925022706" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-640x1096.png?v=190925022706" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-748x1024.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-750x1024.png?v=190925022706" media="" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-750x1294.png?v=190925022706" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-768x1004.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: portrait)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1182x2208.png?v=190925022706" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1242x2148.png?v=190925022706" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1496x2048.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image">
		<link href="../logo/apple-touch-startup-image-1536x2008.png?v=190925022706" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image">
		
		<link rel="stylesheet" type="text/css" href="../styles/main.css">
		<style>
			.overflow_wrapper{
				max-width:100%;
				overflow:auto;
			}
			
			.string_tuning{
				margin-bottom: 10px;
				display: block;
			}
			
			#highlighted_note{
				min-width: 50px;
				min-height: 50px;
				padding: 30px;
				margin: 30px;
				text-align: center;
				font-size: 30pt;
				background-color: gray;
				border-radius: 10px;
			}
			
			#svg_frame_piano{
				padding: 30px 0;
			}
			
			.filter_deg, .filter_notes, .change_root{
				border: 1px solid black;
				border-radius: 25px;
				width: 50px;
				padding: 5px 0;
				margin: 0 1px 2px 1px;
				display: inline-block;
				text-align: center;
				cursor: default;
			}
			
			.change_root{
				cursor: pointer !important;
			}
			
			.filter_deg:hover, .filter_notes:hover, .change_root:hover{
				background-color: #eef;
			}
			
			#change_root_active{
				background-color: rgb(170,170,255);
			}
			
			#filter_type_table td{
				text-align: left;
			}
			
			#filter_deg, #filter_notes_table, #filter_type_table{
				margin-left: 50px;
			}
			
			#scale_results_table, #scale_info_related_table{
				width:100%;
			}
			
			#scale_results_table td, #scale_info_related_table td, #scale_info_names_table td{
				padding: 2px 10px;
				white-space:nowrap;
			}
			
			.tr_title{
				background-color: #22c;
				padding: 4px 10px !important;
				color: #fff;
				font-weight: bold;
			}
			
			.tr_odd td, .td_odd{
				background-color: #ddf;
			}
			
			.tr_even td, .td_even{
				background-color: #aaf;
			}
			
			#scale_results_active td{
				background-color: #66f;
			}
			
			#scale_results, #scale_info_related{
				max-height: 250px;
				border-radius: 5px;
			}
			
			#scale_info_names{
				display: inline-block;
				border-radius: 5px;
			}
			
			#scale_info_related_wrapper{
				border: 1px solid black;
				border-radius: 0 5px 5px 5px;
			}
			
			h3{
				margin-bottom: 0;
				margin-top: 18px;
			}
			
			#scale_info_chords td{
				vertical-align: top;
			}
			
			.scale_info_chord_link{
				cursor: pointer;
			}
			
			.scale_info_chord_link:hover{
				text-decoration: underline;
			}
			
			#scale_info_related_tabs td{
				border: 1px solid black;
				border-bottom: none;
				border-radius: 8px 8px 0 0;
				padding: 5px;
				cursor: default;
			}
			
			#scale_info_related_tabs td:hover{
				background-color: #eef;
			}
			
			#scale_info_related_tabs_active{
				background-color: #66f!important;
			}
			
			#scale_info_related_options_similar{
				padding: 5px;
			}
		</style>
		<script src="svg.min.js"></script>
		<script src="vexflow-min.js"></script>
		<script src="scales.js"></script>
		
		<script src="midi.min.js"></script>
		<script src="Base64binary.js"></script>
		
		
		
	</head>
	<body>
		<div class="mainSectionWrapper">
		<h1 class="mainHeadline headlineFoldable" onclick="displayToggleArrow(document.getElementById('scale_explorer'),document.getElementById('scale_explorer_display_arrow'))"><img src="arrow.png" id="scale_explorer_display_arrow" width="19" height="19" style="vertical-align:2px;">Scale Explorer</h1>
		<div id="scale_explorer">
			<h3>Filter By (<a href="help.html">?</a>):</h3>
			
			<span onclick="document.getElementsByName('filter_sel')[0].checked=true;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"><input type="radio" name="filter_sel" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true)">Scale Degrees:</span>
			<div id="filter_deg">
				<table id="filter_deg_table">
					<tr>
						<td class="filter_deg" style="background-color:#aaf">1</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 1, document.getElementsByClassName('filter_deg')[1], document.getElementsByName('filter_sel')[0])">1#/2b</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 2, document.getElementsByClassName('filter_deg')[2], document.getElementsByName('filter_sel')[0])">2</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 3, document.getElementsByClassName('filter_deg')[3], document.getElementsByName('filter_sel')[0])">2#/3b</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 4, document.getElementsByClassName('filter_deg')[4], document.getElementsByName('filter_sel')[0])">3</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 5, document.getElementsByClassName('filter_deg')[5], document.getElementsByName('filter_sel')[0])">4</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 6, document.getElementsByClassName('filter_deg')[6], document.getElementsByName('filter_sel')[0])">4#/5b</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 7, document.getElementsByClassName('filter_deg')[7], document.getElementsByName('filter_sel')[0])">5</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 8, document.getElementsByClassName('filter_deg')[8], document.getElementsByName('filter_sel')[0])">5#/6b</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 9, document.getElementsByClassName('filter_deg')[9], document.getElementsByName('filter_sel')[0])">6</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 10, document.getElementsByClassName('filter_deg')[10], document.getElementsByName('filter_sel')[0])">6#/7b</td><!--
					---><td class="filter_deg" onclick="setFilterArray(filterDegArray, 11, document.getElementsByClassName('filter_deg')[11], document.getElementsByName('filter_sel')[0])">7</td>
					</tr>
				</table>
				Root:
				<select id="filter_deg_root_note" onclick="document.getElementsByName('filter_sel')[0].checked=true;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);">
					<option value="C">C</option>
					<option value="Db">Db</option>
					<option value="D">D</option>
					<option value="Eb">Eb</option>
					<option value="E">E</option>
					<option value="F">F</option>
					<option value="Gb">Gb</option>
					<option value="G">G</option>
					<option value="Ab">Ab</option>
					<option value="A">A</option>
					<option value="Bb">Bb</option>
					<option value="B">B</option>
				</select><br>
				<button onclick="setDegrees(filterDegArrayToScaleDegrees(),document.getElementById('filter_deg_root_note').value);">Set directly</button>
			</div><br>
			
			
			<span onclick="document.getElementsByName('filter_sel')[1].checked=true;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"><input type="radio" name="filter_sel" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);">Scale Notes:</span>
			<table id="filter_notes_table">
					<tr>
						<td class="filter_notes" onclick="setFilterArray(filterNotesArray, 0, document.getElementsByClassName('filter_notes')[0], document.getElementsByName('filter_sel')[1])">C</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 1, document.getElementsByClassName('filter_notes')[1], document.getElementsByName('filter_sel')[1])">C#/Db</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 2, document.getElementsByClassName('filter_notes')[2], document.getElementsByName('filter_sel')[1])">D</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 3, document.getElementsByClassName('filter_notes')[3], document.getElementsByName('filter_sel')[1])">D#/Eb</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 4, document.getElementsByClassName('filter_notes')[4], document.getElementsByName('filter_sel')[1])">E</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 5, document.getElementsByClassName('filter_notes')[5], document.getElementsByName('filter_sel')[1])">F</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 6, document.getElementsByClassName('filter_notes')[6], document.getElementsByName('filter_sel')[1])">F#/Gb</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 7, document.getElementsByClassName('filter_notes')[7], document.getElementsByName('filter_sel')[1])">G</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 8, document.getElementsByClassName('filter_notes')[8], document.getElementsByName('filter_sel')[1])">G#/Ab</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 9, document.getElementsByClassName('filter_notes')[9], document.getElementsByName('filter_sel')[1])">A</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 10, document.getElementsByClassName('filter_notes')[10], document.getElementsByName('filter_sel')[1])">A#/Bb</td><!--
					---><td class="filter_notes" onclick="setFilterArray(filterNotesArray, 11, document.getElementsByClassName('filter_notes')[11], document.getElementsByName('filter_sel')[1])">B</td>
					</tr>
			</table><br>
			
			<table cellspacing=0 cellpadding=0>
				<tr onclick="document.getElementsByName('filter_sel')[2].checked=true;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);">
					<td><input type="radio" checked name="filter_sel" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>All</td>
				</tr>
				<tr>
					<td></td><td>Root: 
						<select id="filter_all_root_note" onclick="document.getElementsByName('filter_sel')[2].checked=true;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);">
							<option value="C">C</option>
							<option value="Db">Db</option>
							<option value="D">D</option>
							<option value="Eb">Eb</option>
							<option value="E">E</option>
							<option value="F">F</option>
							<option value="Gb">Gb</option>
							<option value="G">G</option>
							<option value="Ab">Ab</option>
							<option value="A">A</option>
							<option value="Bb">Bb</option>
							<option value="B">B</option>
						</select>
					</td>
				</tr>
			</table><br>
			
			<table>
				<tr>
					<td>Maximum added notes: </td><td><input class="roundedInput" type="number" id="filter_max_add" value="0" style="width:32px;" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td>
				</tr>
				<tr>
					<td>Maximum altered notes: </td><td><input class="roundedInput" type="number" id="filter_max_alter" value="0" style="width:32px;" onchange="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td>
				</tr>
			</table><br>
			
			
			
			
			
			<span onclick="displayToggleArrow(document.getElementById('filter_type_table'),document.getElementById('filter_type_display_arrow'))"><img src="arrow.png" id="filter_type_display_arrow" style="vertical-align: -1px;" width="13" height="13">Scale Category:</span><br>
			<div id="filter_type_table">Select All: <input type="checkbox" id="filter_type_select_all" onchange="selectAllFilterType();" checked>
			<table>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Standard Western</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Standard Modes and Variations</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Chords</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Jazz & Blues</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Pentatonic</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Hexatonic and more</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Chromatic</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Unusual Modern</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Tcherepnin and Messiaen</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Gregorian</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>German</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Klezmer/Yddish/Yewish</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Gypsy</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Japanese</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Chinese</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Turkish/Maqamat</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Roman</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Greek</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Indian/Thaats/Ragas</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td>Other Exotic/World Music</td></tr>
				<tr><td><input type="checkbox" class="filter_type" checked onchange="document.getElementById('filter_type_select_all').checked=false;listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);"></td><td><a target="_blank" rel="noopener noreferrer" href="https://www.allthescales.org/">William Zeitler</a></td></tr>
			</table>
			</div><br>
			
			Search: <input class="roundedInput" type="text" id="filter_search" onkeyup="listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true)">&nbsp;<img src="cross.png" onclick="document.getElementById('filter_search').value='';listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);" style="cursor:pointer;vertical-align: -1px;" width="13" height="13"><br><br>
			
			<div id="scale_results" class="overflow_wrapper">
				<table id="scale_results_table" cellpadding=0 cellspacing=0>
					<tr class="scale_results_title"><td>Root</td><td>Scale</td><td>Notes</td><td>Alternative Names</td></tr>
				</table>
			</div><br>
			<span class="roundedButton" onclick="setRandomListedScale()">I'm feeling lucky</span>
		</div>
		</div>
		
		<div class="mainSectionWrapper">
		<h1 class="mainHeadline headlineFoldable" onclick="displayToggleArrow(document.getElementById('scale_info'),document.getElementById('scale_info_display_arrow'))"><img src="arrow.png" id="scale_info_display_arrow" width="19" height="19" style="vertical-align:2px;">Scale Info</h1>
		<div id="scale_info">
			<h3>Names:</h3>
			<div id="scale_info_names" class="overflow_wrapper">
				<table id="scale_info_names_table" cellspacing=0 cellpadding=0></table>
			</div>
			<h3>Number of notes:</h3>
			<div id="scale_info_note_count"></div>
			<h3>Chords:</h3>
			<div class="overflow_wrapper">
			<table id="scale_info_chords" border=1 cellpadding=3 cellspacing=0></table>
			</div>
			<h3>Related Scales:</h3>
			<table id="scale_info_related_tabs" cellpadding=0 cellspacing=0><tr><td onclick="changeRelatedScalesTabs('similar')" id="scale_info_related_tabs_active">Similar Scales</td><td onclick="changeRelatedScalesTabs('modes')">Modes</td><td onclick="changeRelatedScalesTabs('sub')">Subscales</td><td onclick="changeRelatedScalesTabs('parent')">Parent scales</td></tr></table>
			<div id="scale_info_related_wrapper">
			<div id="scale_info_related_options_similar">Maximum degrees of separation: <input class="roundedInput" type="number" id="scale_info_related_deg_separation" value="1" onchange="listScales(findRelatedScales(),document.getElementById('scale_info_related_table'),'scales_related');"><input type="checkbox" id="scale_info_related_same_note_count" onchange="listScales(findRelatedScales(),document.getElementById('scale_info_related_table'),'scales_related');">Only <span id="scale_info_related_note_count_display"></span> scales</div>
			<div id="scale_info_related" class="overflow_wrapper">
				<table id="scale_info_related_table" cellpadding=0 cellspacing=0></table>
			</div>
			</div>
			
			<br>
			For more theoretical information visit 'A study of scales' by Ian Ring: <a target="_blank" rel="noopener noreferrer" id="ian_ring_link" href=""></a><br>
			<br>
			<br>
			<br>
			Share this scale: <a id="share_url" href=""></a>
		</div>
		</div>
		
		<div class="mainSectionWrapper">
		<h1 class="mainHeadline headlineFoldable" onclick="displayToggleArrow(document.getElementById('scale_playing_instruction'),document.getElementById('scale_playing_instruction_display_arrow'))"><img src="arrow.png" id="scale_playing_instruction_display_arrow" width="19" height="19" style="vertical-align:2px;">Scale Playing Instructions</h1>
		<div id="scale_playing_instruction">
			<br>
			<div>
				Change root to:
				<table id="change_root_table">
					<tr>
						<td class="change_root" id="change_root_active" onclick="changeRoot('C')">C</td><!--
					---><td class="change_root" onclick="changeRoot('Db')">C#/Db</td><!--
					---><td class="change_root" onclick="changeRoot('D')">D</td><!--
					---><td class="change_root" onclick="changeRoot('Eb')">D#/Eb</td><!--
					---><td class="change_root" onclick="changeRoot('E')">E</td><!--
					---><td class="change_root" onclick="changeRoot('F')">F</td><!--
					---><td class="change_root" onclick="changeRoot('Gb')">F#/Gb</td><!--
					---><td class="change_root" onclick="changeRoot('G')">G</td><!--
					---><td class="change_root" onclick="changeRoot('Ab')">G#/Ab</td><!--
					---><td class="change_root" onclick="changeRoot('A')">A</td><!--
					---><td class="change_root" onclick="changeRoot('Bb')">A#/Bb</td><!--
					---><td class="change_root" onclick="changeRoot('B')">B</td>
					</tr>
				</table>
			</div>
			<div class="overflow_wrapper" id="svg_frame_sheet_notation" style="display:inline-block;"></div><img src="play.png" onclick="playScale(0)" width="60" height="60" style="vertical-align: 10px;cursor: pointer;">
			<form name="sheet_notation_form">
				<span onclick="document.getElementsByName('sheet_notation_simplify')[0].checked=true;drawNotes();"><input type="radio" name="sheet_notation_simplify" value="on" checked onchange="drawNotes()">Enharmonic Simplification</span><br>
				<span onclick="document.getElementsByName('sheet_notation_simplify')[1].checked=true;drawNotes();"><input type="radio" name="sheet_notation_simplify" value="off" onchange="drawNotes()">Accurate Notation</span>
			</form>
			<div class="overflow_wrapper">
			<table>
			<tr>
				<td><div id="svg_frame_piano"></div></td>
				<td><div id="highlighted_note"></div></td>
			</tr>
			</table>
			</div>
			<button onclick="addString()">String +</button>
			<button onclick="removeString()">String -</button>
			Set Standard Tuning: 
			<select id="set_standard_string_tuning" style="width:19px;" onchange="setStandardStringTuning()">
				<option value="none"></option>
				<option value="guitar">Guitar</option>
				<option value="ukulele">Ukulele</option>
				<option value="bass">Bass</option>
			</select>
			<div class="overflow_wrapper">
			<table>
			<tr>
				<td>
					<div id="string_tuning"></div>
				</td>
				<td><div id="svg_frame_strings"></div></td>
			</tr>
			</table>
			</div>
		</div>
		</div>
		<p id="credit_mark">by <a href="../">Elias Leon Foramitti</a> - <a href="sources.html">Sources</a></p>
		
		<script>
			window.onload = function () {
				MIDI.loadPlugin({
					soundfontUrl: "./soundfont/",
					instrument: "acoustic_grand_piano",
					onsuccess: function() {
						MIDI.setVolume(0, 127);
					}
				});
			};
			
			for(let i in scales){
				scales[i].scaleBinary = (scales[i].id).toString(2).split("").map(x=>parseInt(x)).reverse();
				while(scales[i].scaleBinary.length<12) scales[i].scaleBinary.push(0);
			}
			
			var velocity = 127;
		
			const localStorageAvailable = (typeof(Storage) !== "undefined");
			
			var getParameters = location.search.substr(1).split("&").map(x => ({parameter:x.split("=")[0],value:x.split("=")[1]}));
			
			
			const noteNames = ["C","C#/Db","D","D#/Eb","E","F","F#/Gb","G","G#/Ab","A","A#/Bb","B"];
			const noteNamesSimple = ["C","D","E","F","G","A","B"];
			const noteNamesB = ["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];
			const scaleAccidentals = [
				["" ,"" ,"" ,"" ,"" ,"" ,"" ],
				["b","b","" ,"b","b","b","" ],
				["" ,"" ,"#","" ,"" ,"" ,"#"],
				["b","" ,"" ,"b","b","" ,"" ],
				["" ,"#","#","" ,"" ,"#","#"],
				["" ,"" ,"" ,"b","" ,"" ,"" ],
				["b","b","b","b","b","b","" ],
				["" ,"" ,"" ,"" ,"" ,"" ,"#"],
				["b","b","" ,"b","b","" ,"" ],
				["" ,"" ,"#","" ,"" ,"#","#"],
				["b","" ,"" ,"b","" ,"" ,"" ],
				["" ,"#","#","" ,"#","#","#"]
			];
			const filterCategories = ["Western","Modes","Chords","Jazz","Pentatonic","Hexatonic","Chromatic","UnusualModern","Tcherepnin","Gregorian","German","Jewish","Gypsy","Japanese","Chinese","Turkish","Roman","Greek","Indian","Exotic","Zeitler"];
			const filterCategoriesFullNames = ["Standard Western","Standard Modes and Variations","Chords","Jazz & Blues","Pentatonic","Hexatonic and more","Chromatic","Unusual Modern","Tcherepnin and Messiaen","Gregorian","German","Klezmer/Yddish/Jewish","Gypsy","Japanese","Chinese","Turkish/Maqamat","Roman","Greek","Indian/Thaats/Ragas","Other Exotic/World Music",'<a target="_blank" rel="noopener noreferrer" href="https://www.allthescales.org/">William Zeitler</a>'];
			const noteCountNames = ["monotonic", "ditonic", "tritonic", "tetratonic", "pentatonic", "hexatonic", "heptatonic", "octatonic", "nonatonic", "decatonic", "undecatonic", "dodecatonic"];
			
			var VexFlow = Vex.Flow;
			var vf = {};

			vf.renderer = new VexFlow.Renderer(document.getElementById("svg_frame_sheet_notation"), VexFlow.Renderer.Backends.SVG);

			vf.renderer.resize(570, 100);
			vf.context = vf.renderer.getContext();
			vf.context.setFont("Arial", 10, "").setBackgroundFillStyle("#eed");

			
			
			var filterDegArray = [1,0,0,0,0,0,0,0,0,0,0,0];
			var filterNotesArray = [0,0,0,0,0,0,0,0,0,0,0,0];
			
			var currentScaleIndex;
			var currentRootNote;
			var currentScaleBinary;
			var currentScaleBinaryUnrooted;
			var currentScaleDegrees;
			var currentScaleNotes;
			var currentScaleNotesSimplified;
			
			var currentListedScales;
			
			var stringCount=6;
			
			
			for(let i=0;i<stringCount;i++){
				document.getElementById("string_tuning").innerHTML += '<select id="string'+i+'_tuning" class="string_tuning" onchange="drawNotes()"> <option value="0">C</option><option value="1">C#/Db</option><option value="2">D</option><option value="3">D#/Eb</option><option value="4">E</option><option value="5">F</option><option value="6">F#/Gb</option><option value="7">G</option><option value="8">G#/Ab</option><option value="9">A</option><option value="10">A#/Bb</option><option value="11">B</option> </select>';
			}
			document.getElementById("string0_tuning").value = 4;
			document.getElementById("string1_tuning").value = 11;
			document.getElementById("string2_tuning").value = 7;
			document.getElementById("string3_tuning").value = 2;
			document.getElementById("string4_tuning").value = 9;
			document.getElementById("string5_tuning").value = 4;
			
			var drawStrings = SVG('svg_frame_strings');
			var drawPiano = SVG('svg_frame_piano').size(420,180);
			var notes = [];
			
			function isEqual(value, other) {
				// Get the value type
				var type = Object.prototype.toString.call(value);
				// If the two objects are not the same type, return false
				if (type !== Object.prototype.toString.call(other)) return false;
				// If items are not an object or array, return false
				if (['[object Array]', '[object Object]'].indexOf(type) < 0) return false;
				// Compare the length of the length of the two items
				var valueLen = type === '[object Array]' ? value.length : Object.keys(value).length;
				var otherLen = type === '[object Array]' ? other.length : Object.keys(other).length;
				if (valueLen !== otherLen) return false;
				// Compare two items
				var compare = function (item1, item2) {
					// Get the object type
					var itemType = Object.prototype.toString.call(item1);
					// If an object or array, compare recursively
					if (['[object Array]', '[object Object]'].indexOf(itemType) >= 0) {
						if (!isEqual(item1, item2)) return false;
					}
					// Otherwise, do a simple comparison
					else {

						// If the two items are not the same type, return false
						if (itemType !== Object.prototype.toString.call(item2)) return false;

						// Else if it's a function, convert to a string and compare
						// Otherwise, just compare
						if (itemType === '[object Function]') {
							if (item1.toString() !== item2.toString()) return false;
						} else {
							if (item1 !== item2) return false;
						}
					}
				};
				// Compare properties
				if (type === '[object Array]') {
					for (var i = 0; i < valueLen; i++) {
						if (compare(value[i], other[i]) === false) return false;
					}
				} else {
					for (var key in value) {
						if (value.hasOwnProperty(key)) {
							if (compare(value[key], other[key]) === false) return false;
						}
					}
				}
				return true;
			}
			
			function hammingDistance(array1,array2){
				return array1.map((x,i) => (x ^ array2[i])).reduce((total,sum)=>(total+sum));
			}
			
			function rotateBinaryScale(binaryInputScale, rotationCount){
				return binaryInputScale.slice(rotationCount%binaryInputScale.length).concat(binaryInputScale.slice(0,rotationCount%binaryInputScale.length));
			}
			
			function degreesToNotes(scaleDegrees, rootNote, simplify){
				var displayedSheetNotes = [];
				for(let m in scaleDegrees){
					displayedSheetNotes.push(scaleDegrees[m]);
				}
				var rootNoteNumber = noteNamesSimple.indexOf(rootNote[0]);
				for(let m=0;m<displayedSheetNotes.length;m++){
					displayedSheetNotes[m] += scaleAccidentals[noteNamesB.indexOf(rootNote)][parseInt(displayedSheetNotes[m][0])-1];
					displayedSheetNotes[m] = displayedSheetNotes[m].replace(1,noteNamesSimple[(rootNoteNumber+0)%7]).replace(2,noteNamesSimple[(rootNoteNumber+1)%7]).replace(3,noteNamesSimple[(rootNoteNumber+2)%7]).replace(4,noteNamesSimple[(rootNoteNumber+3)%7]).replace(5,noteNamesSimple[(rootNoteNumber+4)%7]).replace(6,noteNamesSimple[(rootNoteNumber+5)%7]).replace(7,noteNamesSimple[(rootNoteNumber+6)%7]);
				}

				var cleanUpFinished=false;
				while(!cleanUpFinished){
					cleanUpFinished=true;
					for(let m=0;m<displayedSheetNotes.length;m++){
						if( displayedSheetNotes[m]!=(displayedSheetNotes[m]=displayedSheetNotes[m].replace("b#","").replace("#b","")) ) cleanUpFinished=false;
					}
				}
				
				if(simplify){
					var cleanUpFinished=false;
					while(!cleanUpFinished){
						cleanUpFinished=true;
						for(let i=0;i<displayedSheetNotes.length;i++){
							displayedSheetNotes[i]=displayedSheetNotes[i].replace("E#","F");
							displayedSheetNotes[i]=displayedSheetNotes[i].replace("Fb","E");
							displayedSheetNotes[i]=displayedSheetNotes[i].replace("B#","C");
							displayedSheetNotes[i]=displayedSheetNotes[i].replace("Cb","B");
							
							if( displayedSheetNotes[i]!=(displayedSheetNotes[i]=displayedSheetNotes[i].replace("bb","")) ){
								cleanUpFinished=false;
								displayedSheetNotes[i]=displayedSheetNotes[i].split("");
								displayedSheetNotes[i][0] = noteNamesSimple[(noteNamesSimple.indexOf(displayedSheetNotes[i][0])+6)%7];
								displayedSheetNotes[i]=displayedSheetNotes[i].join("");
							}
							if( displayedSheetNotes[i]!=(displayedSheetNotes[i]=displayedSheetNotes[i].replace("##","")) ){
								cleanUpFinished=false;
								displayedSheetNotes[i]=displayedSheetNotes[i].split("");
								displayedSheetNotes[i][0] = noteNamesSimple[(noteNamesSimple.indexOf(displayedSheetNotes[i][0])+1)%7];
								displayedSheetNotes[i]=displayedSheetNotes[i].join("");
							}
						}
					}
				}
				
				return displayedSheetNotes;
			}
			
			
			//compareScales(realScale,userInputToCompareWith)
			function compareScales(scale1, scale2, maxAddNotes, maxAltNotes){
				if(scale1.length != scale2.length){console.error("compareScales: Scale lengths do not match");return;}
				var scaleDifference = scale1.map((x,i) => x-scale2[i]);
				var [missing,congruent,added] = scaleDifference.map(x=>x+1).reduce((counts, curr) => (counts[curr] = ++counts[curr] || 1, counts), []);
				missing = (missing==undefined) ? 0 : missing;
				congruent = (congruent==undefined) ? 0 : congruent;
				added = (added==undefined) ? 0 : added;
				if(missing>added || missing>maxAltNotes || (added-missing)>maxAddNotes){
					return false;
				}
				var shiftAccidentals = scale1.map(x=>0);
				//var shiftFrom = scale1.map(x=>null);
				//var shiftTo = scale1.map(x=>null);
				var distanceAtDestination = scale1.map(x=>0);
				for(let i in scaleDifference){
					if(scaleDifference[i]==(-1)){
						if(scaleDifference[(parseInt(i)+scaleDifference.length-1)%scaleDifference.length]==1 && distanceAtDestination[(parseInt(i)+scaleDifference.length-1)%scaleDifference.length]==0){
							shiftAccidentals[(parseInt(i)+scaleDifference.length-1)%scaleDifference.length]=1;
							//shiftFrom[i]=(parseInt(i)+scaleDifference.length-1)%scaleDifference.length;
							//shiftTo[(parseInt(i)+scaleDifference.length-1)%scaleDifference.length]=parseInt(i);
							distanceAtDestination[(parseInt(i)+scaleDifference.length-1)%scaleDifference.length]=1;
						}
						else if(scaleDifference[(parseInt(i)+scaleDifference.length+1)%scaleDifference.length]==1 && distanceAtDestination[(parseInt(i)+scaleDifference.length+1)%scaleDifference.length]==0){
							shiftAccidentals[(parseInt(i)+scaleDifference.length+1)%scaleDifference.length]=-1;
							//shiftFrom[i]=(parseInt(i)+scaleDifference.length+1)%scaleDifference.length;
							//shiftTo[(parseInt(i)+scaleDifference.length+1)%scaleDifference.length]=parseInt(i);
							distanceAtDestination[(parseInt(i)+scaleDifference.length+1)%scaleDifference.length]=1;
						}
						else{
							return false;
						}
					}
				}
				return shiftAccidentals;
			}
			
			function findRelatedScales(){
				var scalesFitting = [];
				for(let i in scales){
					if(currentScaleIndex == i) continue;
					if(((document.getElementById("scale_info_related_same_note_count").checked && relatedScalesActiveTab=="similar") || relatedScalesActiveTab=="modes") && currentScaleDegrees.length != scales[i].scaleDegrees.length) continue;
					if(hammingDistance(scales[i].scaleBinary,currentScaleBinaryUnrooted) > document.getElementById("scale_info_related_deg_separation").value && relatedScalesActiveTab!="modes") continue;
					if(relatedScalesActiveTab=="sub" && !compareScales(currentScaleBinaryUnrooted,scales[i].scaleBinary,12,0)) continue;
					if(relatedScalesActiveTab=="parent" && !compareScales(scales[i].scaleBinary,currentScaleBinaryUnrooted,12,0)) continue;
					if(relatedScalesActiveTab=="modes"){
						var modeFound = false;
						var offset = 0;
						for(let j in currentScaleDegrees){
							if(isEqual(scales[i].scaleBinary,rotateBinaryScale(currentScaleBinaryUnrooted, currentScaleBinaryUnrooted.indexOf(1,offset)))){
								modeFound = true;
								break;
							}
							offset = currentScaleBinaryUnrooted.indexOf(1,offset)+1;
						}
						if(!modeFound) continue;
					}
					scalesFitting.push({index:i, contextIndex:0, rootNote:currentRootNote});
				}
				return scalesFitting;
			}
			
			
			function findScales(){
				var scalesFitting = [];
				
				//create array holding all selected filter categories
				var filterCategoryArray = [];
				var x;
				for(let i=0;i<(x=document.getElementsByClassName("filter_type")).length;i++){
					if (x[i].checked) filterCategoryArray.push(filterCategories[i]);
				}
				var searchTerms = (document.getElementById("filter_search").value.length) ? document.getElementById("filter_search").value.toLowerCase().split(" ") : null;
				
				//pre-filter by category and search terms
				if(filterCategoryArray.length==filterCategories.length && !searchTerms){
					for(let i=0;i<scales.length;i++) scalesFitting.push({index:i,contextIndex:0});
				}
				else{
					for(let i in scales){
						for(let j in scales[i].names){
							if(filterCategoryArray.indexOf(scales[i].names[j].context)>-1){
								let fits = true;
								if(searchTerms){
									for(let searchTerm of searchTerms){
										if(scales[i].names[j].name.toLowerCase().indexOf(searchTerm)<0){
											fits = false;
											break;
										}
									}
								}
								if(fits){
									if(searchTerms){
										if(scales[i].names[j].name.toLowerCase() == searchTerms.join(" ")) scalesFitting.unshift({index:i,contextIndex:j});
										else scalesFitting.push({index:i,contextIndex:j});
									}
									else scalesFitting.push({index:i,contextIndex:j});
									break;
								}
							}
						}
					}
				}
				
				//filter by main filters
				if(document.getElementsByName('filter_sel')[0].checked){ //filter by scale degrees
					if(!filterDegArray.slice(1).reduce((x,y)=>(x||y))) return []; //if no degrees are selected return no scales
					var selectedRootNote = document.getElementById("filter_deg_root_note").value;
					var maxAddedNotes = parseInt(document.getElementById("filter_max_add").value);
					var maxAlteredNotes = parseInt(document.getElementById("filter_max_alter").value);
					for(let i=0;i<scalesFitting.length;i++){
						if(compareScales(scales[scalesFitting[i].index].scaleBinary,filterDegArray,maxAddedNotes,maxAlteredNotes)) scalesFitting[i].rootNote = selectedRootNote;
						else{
							scalesFitting.splice(i,1);
							i--;
						}
					}
				}
				else if(document.getElementsByName('filter_sel')[1].checked){ //filter by notes
					if(!filterNotesArray.reduce((x,y)=>(x||y))) return []; //if no notes are selected return no scales
					var maxAddedNotes = parseInt(document.getElementById("filter_max_add").value);
					var maxAlteredNotes = parseInt(document.getElementById("filter_max_alter").value);
					var possibleScales = [];
					if(maxAddedNotes>0 || maxAlteredNotes>0){
						for(let i=0;i<12;i++) possibleScales.push({scaleBinary:rotateBinaryScale(filterNotesArray,i),rootNote:noteNamesB[i]});
					}
					else{
						for(let i=0;i<12;i++){
							if(rotateBinaryScale(filterNotesArray,i)[0]) possibleScales.push({scaleBinary:rotateBinaryScale(filterNotesArray,i),rootNote:noteNamesB[i]});
						}
					}
					
					for(let i=0;i<scalesFitting.length;i++){
						var fittingModes = [];
						for(let possibleScale of possibleScales){
							if(compareScales(scales[scalesFitting[i].index].scaleBinary,possibleScale.scaleBinary,maxAddedNotes,maxAlteredNotes)) fittingModes.push({index:scalesFitting[i].index, contextIndex:scalesFitting[i].contextIndex, rootNote:possibleScale.rootNote});
						}
						scalesFitting.splice(i,1,...fittingModes);
						i+=fittingModes.length-1;
					}
				}
				else if(document.getElementsByName('filter_sel')[2].checked){ //no main filter
					var selectedRootNote = document.getElementById("filter_all_root_note").value;
					for(let i in scalesFitting) scalesFitting[i].rootNote = selectedRootNote;
				}
				
				
				return scalesFitting;
			}
			
			
			function listScales(scalesArray, tableDomObject, idPrefix, updateCurrentListedScales){
				var results = '<tr class="tr_title"><td>Root</td><td>Scale</td><td>Notes</td><td>Alternative Names</td></tr>';
				if(updateCurrentListedScales) currentListedScales = (scalesArray==undefined) ? [] : scalesArray.map(x => ({index:x.index, rootNote:x.rootNote}));
				if(scalesArray==undefined) results+='<tr class="tr_even"><td>No results<td><td></td><td class="td_notes"></td><tr>';
				else if(scalesArray.length<1) results+='<tr class="tr_even"><td>No results<td><td></td><td class="td_notes"></td><tr>';
				for(let i in scalesArray){
					var alternativeNames = scales[scalesArray[i].index].names.slice(0,scalesArray[i].contextIndex).concat(scales[scalesArray[i].index].names.slice(scalesArray[i].contextIndex+1)).map(x => x.name).join(", ");
					if(alternativeNames.length>60) alternativeNames = alternativeNames.slice(0,57) + "...";
					
					var scaleNotes = degreesToNotes(scales[scalesArray[i].index].scaleDegrees,scalesArray[i].rootNote);
					
					var domId = (scalesArray[i].index==currentScaleIndex && scalesArray[i].rootNote==currentRootNote) ? ' id="' + idPrefix + '_active" ' : '';
					
					results += '<tr' + domId + ' class="tr_' + ((parseInt(i)%2)?"odd":"even") + '" onclick="setNewScale(' + scalesArray[i].index + ',\'' + scalesArray[i].rootNote + '\')"><td>' + scalesArray[i].rootNote + '</td><td>' + scales[scalesArray[i].index].names[scalesArray[i].contextIndex].name + '</td><td class="td_notes">' + scaleNotes.join(" ") + '</td><td>' + alternativeNames + '</td></tr>';
				}
				tableDomObject.innerHTML = results;
			}
			
			
			function setNewScale(index, newRootNote){
				if(scales[index]==undefined) setNewScale(0,"C");
				currentScaleIndex = index;
				currentRootNote = newRootNote;
				currentScaleBinary = rotateBinaryScale(scales[index].scaleBinary, -(noteNamesB.indexOf(currentRootNote)));
				currentScaleBinaryUnrooted = scales[index].scaleBinary;
				currentScaleDegrees = scales[index].scaleDegrees;
				currentScaleNotes = degreesToNotes(currentScaleDegrees,currentRootNote);
				currentScaleNotesSimplified = degreesToNotes(currentScaleDegrees,currentRootNote, true);
				drawNotes();
				
				//find chords in scale
				var chordsDomObject = document.getElementById("scale_info_chords");
				chordsDomObject.innerHTML = '<tr class="tr_title"></tr><tr></tr>';
				var offset=-1;
				for(let k in currentScaleDegrees){
					chordsDomObject.children[0].children[0].innerHTML += "<td>" + currentScaleDegrees[k] + "</td>";
					chordsString = "";
					offset = currentScaleBinaryUnrooted.indexOf(1,offset+1);
					var rerootedScale = rotateBinaryScale(currentScaleBinaryUnrooted,offset);
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(145),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k] + "</span><br>"; //Major Triad
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(137),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m" + "</span><br>"; //Minor Triad
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(273),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+" + "</span><br>"; //Augmented Triad
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(73),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°" + "</span><br>"; //Diminished Triad
					if(compareScales(rerootedScale,[1,0,1,0,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(133),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"sus2" + "</span><br>"; //Suspended 2 Triad
					if(compareScales(rerootedScale,[1,0,0,0,0,1,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(161),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"sus4" + "</span><br>"; //Suspended 4 Triad
					if(compareScales(rerootedScale,[1,0,0,0,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(129),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"5" + "</span><br>"; //Power Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2193),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"maj7" + "</span><br>"; //Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1161),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m7" + "</span><br>"; //Minor 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1169),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"7" + "</span><br>"; //Dominant 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2185),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m/maj7" + "</span><br>"; //Minor-Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,1,0,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2129),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"maj7b5" + "</span><br>"; //Major 7th flat 5 Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1097),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"\u00f87" + "</span><br>"; //Half-Diminished 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,1,0,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1105),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"7b5" + "</span><br>"; //Dominant 7th flat 5 Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2121),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°maj7" + "</span><br>"; //Diminished Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(585),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°7" + "</span><br>"; //Diminished 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2321),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+maj7" + "</span><br>"; //Augmented Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1297),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+7" + "</span><br>"; //Augmented Minor 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(657),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"6" + "</span><br>"; //Major 6th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(649),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m6" + "</span><br>"; //Minor 6th Chord
					chordsDomObject.children[0].children[1].innerHTML += '<td class="td_' + ((k%2)?"odd":"even") + '">' + chordsString.slice(0,-4) + "</td>";
				}
				
				var newScaleNames = scales[index].names.slice().sort(( x,y) => ( (x.context==y.context) ? (([x.name,y.name].sort()[0]==y.name)*2-1) : (filterCategories.indexOf(x.context)-filterCategories.indexOf(y.context))));
				let tmp;
				if(newScaleNames.reduce((x,y)=>(x || (y.info!=undefined)),false)){
					tmp = '<tr class="tr_title"><td>Name</td><td>Context</td><td>Additional Info</td></tr>';
					for(let k in newScaleNames){
						if(newScaleNames[k].info==undefined) tmp += '<tr class="tr_' + ((k%2)?'odd':'even') + '"><td>' + newScaleNames[k].name + "</td><td>" + filterCategoriesFullNames[filterCategories.indexOf(newScaleNames[k].context)] + "</td><td></td></tr>";
						else tmp += '<tr class="tr_' + ((k%2)?'odd':'even') + '"><td>' + newScaleNames[k].name + "</td><td>" + filterCategoriesFullNames[filterCategories.indexOf(newScaleNames[k].context)] + "</td><td>" + newScaleNames[k].info + "</td></tr>";
					}
				}
				else{
					tmp = '<tr class="tr_title"><td>Name</td><td>Context</td></tr>';
					for(let k in newScaleNames) tmp += '<tr class="tr_' + ((k%2)?'odd':'even') + '"><td>' + newScaleNames[k].name + "</td><td>" + filterCategoriesFullNames[filterCategories.indexOf(newScaleNames[k].context)] + "</td></tr>";
				}
				document.getElementById("scale_info_names_table").innerHTML = tmp;
				document.getElementById("scale_info_note_count").innerHTML = currentScaleDegrees.length + " (" + noteCountNames[currentScaleDegrees.length-1] + ")";
				document.getElementById("ian_ring_link").innerHTML = "https://ianring.com/musictheory/scales/" + parseInt(currentScaleBinaryUnrooted.slice().reverse().join(""),2);
				document.getElementById("ian_ring_link").href = "https://ianring.com/musictheory/scales/" + parseInt(currentScaleBinaryUnrooted.slice().reverse().join(""),2);
				document.getElementById("share_url").innerHTML = window.location.href.split("?")[0] + "?index=" + scales[index].id + "&root=" + newRootNote.toLowerCase();
				document.getElementById("share_url").href = window.location.href.split("?")[0] + "?index=" + scales[index].id + "&root=" + newRootNote.toLowerCase();
				document.getElementById("scale_info_related_note_count_display").innerHTML = noteCountNames[currentScaleDegrees.length-1];
				
				document.getElementById("change_root_active").id="";
				document.getElementsByClassName("change_root")[noteNamesB.indexOf(newRootNote)].id="change_root_active";
				
				var upperCaseRoot = newRootNote.split("");
				upperCaseRoot[0]=upperCaseRoot[0].toUpperCase();
				upperCaseRoot = upperCaseRoot.join("");
				document.title = "ScaleInfo: " + upperCaseRoot + " " + scales[index].names[0].name;
				
				history.pushState(null, "ScaleInfo: " + scales[index].names[0].name, "?index=" + scales[index].id + "&root=" + newRootNote.toLowerCase());
				
				if(localStorageAvailable){
					localStorage.setItem("scaleIndex", scales[index].id);
					localStorage.setItem("scaleDegrees", "");
					localStorage.setItem("rootNote", newRootNote);
				}
				listScales(findScales(), document.getElementById("scale_results_table"), "scale_results", true);
				listScales(findRelatedScales(),document.getElementById("scale_info_related_table"),"scales_related");
			}
			
			function filterDegArrayToScaleDegrees(){
				scaleDegreesTmp = [];
				if(filterDegArray[0]) scaleDegreesTmp.push("1");
				if(filterDegArray[1]) scaleDegreesTmp.push("2b");
				if(filterDegArray[2]) scaleDegreesTmp.push("2");
				if(filterDegArray[3]) scaleDegreesTmp.push("3b");
				if(filterDegArray[4]) scaleDegreesTmp.push("3");
				if(filterDegArray[5]) scaleDegreesTmp.push("4");
				if(filterDegArray[6]) scaleDegreesTmp.push("5b");
				if(filterDegArray[7]) scaleDegreesTmp.push("5");
				if(filterDegArray[8]) scaleDegreesTmp.push("6b");
				if(filterDegArray[9]) scaleDegreesTmp.push("6");
				if(filterDegArray[10]) scaleDegreesTmp.push("7b");
				if(filterDegArray[11]) scaleDegreesTmp.push("7");
				return scaleDegreesTmp;
			}
			
			
			function setDegrees(degreeArray, newRootNote){
				if(degreeArray.length<1) return;
				currentScaleIndex = undefined;
				currentRootNote = newRootNote;
				degreeArraySimplification = [];
				for(let i in degreeArray){
					degreeArraySimplification.push(degreeArray[i]);
				}
				for (var i in degreeArraySimplification){
					while(true){
						if(degreeArraySimplification[i] != (degreeArraySimplification[i]=degreeArraySimplification[i].replace("bb",""))){
							var tmp = degreeArraySimplification[i].split("");
							tmp[0] = (parseInt(tmp[0])+5)%7+1;
							degreeArraySimplification[i] = tmp.join("");
							continue;
						}
						if(degreeArraySimplification[i] != (degreeArraySimplification[i]=degreeArraySimplification[i].replace("##",""))){
							var tmp = degreeArraySimplification[i].split("");
							tmp[0] = parseInt(tmp[0])%7+1;
							degreeArraySimplification[i] = tmp.join("");
							continue;
						}
						if(degreeArraySimplification[i] == "3#") degreeArraySimplification[i] = "4";
						if(degreeArraySimplification[i] == "4b") degreeArraySimplification[i] = "3";
						break;
					}
				}
				currentScaleBinaryUnrooted = [0,0,0,0,0,0,0,0,0,0,0,0];
				if(degreeArraySimplification.indexOf("1")>-1) currentScaleBinaryUnrooted[0]=1;
				if(degreeArraySimplification.indexOf("1#")>-1||degreeArraySimplification.indexOf("2b")>-1) currentScaleBinaryUnrooted[1]=1;
				if(degreeArraySimplification.indexOf("2")>-1) currentScaleBinaryUnrooted[2]=1;
				if(degreeArraySimplification.indexOf("2#")>-1||degreeArraySimplification.indexOf("3b")>-1) currentScaleBinaryUnrooted[3]=1;
				if(degreeArraySimplification.indexOf("3")>-1) currentScaleBinaryUnrooted[4]=1;
				if(degreeArraySimplification.indexOf("4")>-1) currentScaleBinaryUnrooted[5]=1;
				if(degreeArraySimplification.indexOf("4#")>-1||degreeArraySimplification.indexOf("5b")>-1) currentScaleBinaryUnrooted[6]=1;
				if(degreeArraySimplification.indexOf("5")>-1) currentScaleBinaryUnrooted[7]=1;
				if(degreeArraySimplification.indexOf("5#")>-1||degreeArraySimplification.indexOf("6b")>-1) currentScaleBinaryUnrooted[8]=1;
				if(degreeArraySimplification.indexOf("6")>-1) currentScaleBinaryUnrooted[9]=1;
				if(degreeArraySimplification.indexOf("6#")>-1||degreeArraySimplification.indexOf("7b")>-1) currentScaleBinaryUnrooted[10]=1;
				if(degreeArraySimplification.indexOf("7")>-1) currentScaleBinaryUnrooted[11]=1;
				
				var index;
				if((index=scales.map(x => x.scaleBinary.join("")).indexOf(currentScaleBinaryUnrooted.join("")))>-1){
					setNewScale(index, newRootNote);
					return;
				}
				
				currentScaleBinary = rotateBinaryScale(currentScaleBinaryUnrooted, -(noteNamesB.indexOf(currentRootNote)));
				currentScaleDegrees = degreeArray;
				currentScaleNotes = degreesToNotes(currentScaleDegrees,currentRootNote);
				currentScaleNotesSimplified = degreesToNotes(currentScaleDegrees,currentRootNote, true);
				
				drawNotes();
				listScales(findScales(), document.getElementById("scale_results_table"), "scale_results", true);
				listScales(findRelatedScales(),document.getElementById("scale_info_related_table"),"scales_related");
				
				//find chords in scale
				var chordsDomObject = document.getElementById("scale_info_chords");
				chordsDomObject.innerHTML = '<tr class="tr_title"></tr><tr></tr>';
				var offset=-1;
				for(let k in currentScaleDegrees){
					chordsDomObject.children[0].children[0].innerHTML += "<td>" + currentScaleDegrees[k] + "</td>";
					chordsString = "";
					offset = currentScaleBinaryUnrooted.indexOf(1,offset+1);
					var rerootedScale = rotateBinaryScale(currentScaleBinaryUnrooted,offset);
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(145),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k] + "</span><br>"; //Major Triad
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(137),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m" + "</span><br>"; //Minor Triad
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(273),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+" + "</span><br>"; //Augmented Triad
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(73),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°" + "</span><br>"; //Diminished Triad
					if(compareScales(rerootedScale,[1,0,1,0,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(133),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"sus2" + "</span><br>"; //Suspended 2 Triad
					if(compareScales(rerootedScale,[1,0,0,0,0,1,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(161),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"sus4" + "</span><br>"; //Suspended 4 Triad
					if(compareScales(rerootedScale,[1,0,0,0,0,0,0,1,0,0,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(129),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"5" + "</span><br>"; //Power Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2193),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"maj7" + "</span><br>"; //Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1161),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m7" + "</span><br>"; //Minor 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1169),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"7" + "</span><br>"; //Dominant 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2185),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m/maj7" + "</span><br>"; //Minor-Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,1,0,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2129),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"maj7b5" + "</span><br>"; //Major 7th flat 5 Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1097),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"\u00f87" + "</span><br>"; //Half-Diminished 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,1,0,0,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1105),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"7b5" + "</span><br>"; //Dominant 7th flat 5 Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2121),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°maj7" + "</span><br>"; //Diminished Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,1,0,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(585),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"°7" + "</span><br>"; //Diminished 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,0,1],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2321),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+maj7" + "</span><br>"; //Augmented Major 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,0,1,0,1,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(1297),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"+7" + "</span><br>"; //Augmented Minor 7th Chord
					if(compareScales(rerootedScale,[1,0,0,0,1,0,0,1,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(657),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"6" + "</span><br>"; //Major 6th Chord
					if(compareScales(rerootedScale,[1,0,0,1,0,0,0,1,0,1,0,0],12,0)) chordsString += '<span class="scale_info_chord_link" onclick="setNewScale(scales.map(x=>parseInt(x.id)).indexOf(649),\''+noteNamesB[(noteNamesB.indexOf(currentRootNote)+offset)%12]+'\')">' + currentScaleNotesSimplified[k]+"m6" + "</span><br>"; //Minor 6th Chord
					chordsDomObject.children[0].children[1].innerHTML += '<td class="td_' + ((k%2)?"odd":"even") + '">' + chordsString.slice(0,-4) + "</td>";
				}
				
				document.getElementById("scale_info_names_table").innerHTML = "No correlating names found in the database";
				document.getElementById("scale_info_note_count").innerHTML = currentScaleDegrees.length + " (" + noteCountNames[currentScaleDegrees.length-1] + ")";
				document.getElementById("ian_ring_link").innerHTML = "https://ianring.com/musictheory/scales/" + parseInt(currentScaleBinaryUnrooted.slice().reverse().join(""),2);
				document.getElementById("ian_ring_link").href = "https://ianring.com/musictheory/scales/" + parseInt(currentScaleBinaryUnrooted.slice().reverse().join(""),2);
				document.getElementById("share_url").innerHTML = window.location.href.split("?")[0] + "?degrees=" + degreeArray.join("-") + "&root=" + newRootNote.toLowerCase();
				document.getElementById("share_url").href = window.location.href.split("?")[0] + "?degrees=" + degreeArray.join("-") + "&root=" + newRootNote.toLowerCase();
				
				document.getElementById("change_root_active").id="";
				document.getElementsByClassName("change_root")[noteNamesB.indexOf(newRootNote)].id="change_root_active";
				
				document.title = "ScaleInfo";
				
				history.pushState(null, "ScaleInfo", "?degrees=" + degreeArray.join("-") + "&root=" + newRootNote.toLowerCase());
				
				if(localStorageAvailable){
					localStorage.setItem("scaleIndex", "");
					localStorage.setItem("scaleDegrees", degreeArray);
					localStorage.setItem("rootNote", newRootNote);
				}
			}
			
			
			function changeRoot(newRootNote){
				if(newRootNote==currentRootNote) return;
				if(currentScaleIndex == undefined) setDegrees(currentScaleDegrees,newRootNote);
				else setNewScale(currentScaleIndex,newRootNote);
			}
			
			
			function setRandomListedScale(){
				if(currentListedScales.length<1) return;
				var randomIndex = Math.floor(Math.random()*currentListedScales.length);
				while(currentScaleIndex == currentListedScales[randomIndex].index && currentRootNote == currentListedScales[randomIndex].rootNote && currentListedScales.length>1){
					randomIndex = Math.floor(Math.random()*currentListedScales.length);
				}
				setNewScale(currentListedScales[randomIndex].index,currentListedScales[randomIndex].rootNote);
			}
			
			
			function drawNotes() {
				var displayedSheetNotes = (document.sheet_notation_form.sheet_notation_simplify.value=="on") ? currentScaleNotesSimplified : currentScaleNotes;

				vf.context.clear();

				vf.stave = new VexFlow.Stave(0, 0, 550);
				vf.stave.addClef("treble");
				vf.stave.setContext(vf.context).draw();

				vf.notes = [];

				for(let i in displayedSheetNotes){
					var octave = 4;
					if(noteNamesSimple.indexOf(displayedSheetNotes[i][0])<noteNamesSimple.indexOf(currentRootNote[0])) octave = 5;
					vf.notes.push( new VexFlow.StaveNote({clef: "treble", keys: [displayedSheetNotes[i][0].toLowerCase()+"/"+octave], duration: "w" }) );
					var accidentalsTmp = displayedSheetNotes[i].substring(1);
					while( accidentalsTmp!=(accidentalsTmp=accidentalsTmp.replace("##","")) ) vf.notes[vf.notes.length-1].addAccidental(0, new VexFlow.Accidental("##"));
					while( accidentalsTmp!=(accidentalsTmp=accidentalsTmp.replace("#","")) ) vf.notes[vf.notes.length-1].addAccidental(0, new VexFlow.Accidental("#"));
					while( accidentalsTmp!=(accidentalsTmp=accidentalsTmp.replace("bb","")) ) vf.notes[vf.notes.length-1].addAccidental(0, new VexFlow.Accidental("bb"));
					while( accidentalsTmp!=(accidentalsTmp=accidentalsTmp.replace("b","")) ) vf.notes[vf.notes.length-1].addAccidental(0, new VexFlow.Accidental("b"));
				}

				vf.voices = [new VexFlow.Voice({num_beats: vf.notes.length*4,  beat_value: 4}).addTickables(vf.notes)];
				new VexFlow.Formatter().joinVoices(vf.voices).format(vf.voices, 500);
				vf.voices.forEach(function(v) { v.draw(vf.context, vf.stave); });
			
			
			
			
			
			
				drawStrings.clear();
				notes = [[],[],[],[],[],[],[],[],[],[],[],[]];
				
				drawStrings.size(800, stringCount*30);
				for(let i=0;i<stringCount;i++){
					drawStrings.line(30, i*30+10, 790, i*30+10).stroke({ width: 1 });
				}
				for(let i=0;i<13;i++){
					var line = drawStrings.line(i*60+30, 10, i*60+30, stringCount*30-20);
					if(i>0){
						line.stroke({width: 1});
					}
					else{
						line.stroke({width: 5});
					}
				}
				for(let j=0;j<stringCount;j++){
					for(let i=0;i<13;i++){
						if(currentScaleBinary[(i+parseInt(document.getElementById("string"+j+"_tuning").value))%12]){
							var color = '#444';
							if(noteNamesB.indexOf(currentRootNote)==(i+parseInt(document.getElementById("string"+j+"_tuning").value))%12){color='#000';}
							var circle = drawStrings.circle(20).fill(color);
							if(i>0){
								circle.move(i*60-10, j*30);
							}
							else{
								circle.move(i*60, j*30);
							}
							notes[(i+parseInt(document.getElementById("string"+j+"_tuning").value))%12].push([circle,color]);
						}
					}
				}
				
				whiteNotes = [0,2,4,5,7,9,11];
				for(let i=0;i<14;i++){
					var color;
					if(currentScaleBinary[whiteNotes[i%7]]){color='#555';}else{color='#fff';}
					if(noteNamesB.indexOf(currentRootNote)==whiteNotes[i%7]){color='#333';}
					notes[whiteNotes[i%7]].push([rect = drawPiano.rect(30, 180).fill(color).stroke({width: 1}).move(i*30,0),color]);
				}
				
				blackNotes = [1,3,false,6,8,10,false];
				for(let i=0;i<14;i++){
					var color;
					if(blackNotes[i%7]==false){continue;}
					if(currentScaleBinary[blackNotes[i%7]]){color='#555';}else{color='#fff';}
					if(noteNamesB.indexOf(currentRootNote)==blackNotes[i%7]){color='#333';}
					notes[blackNotes[i%7]].push([rect = drawPiano.rect(20, 100).fill(color).stroke({width: 1}).move(i*30+20,0),color]);
				}
				
				
				notes[0].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(0);});
					item[0].mouseout(function() {dehighlightNotes(0);});
				});
				notes[1].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(1);});
					item[0].mouseout(function() {dehighlightNotes(1);});
				});
				notes[2].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(2);});
					item[0].mouseout(function() {dehighlightNotes(2);});
				});
				notes[3].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(3);});
					item[0].mouseout(function() {dehighlightNotes(3);});
				});
				notes[4].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(4);});
					item[0].mouseout(function() {dehighlightNotes(4);});
				});
				notes[5].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(5);});
					item[0].mouseout(function() {dehighlightNotes(5);});
				});
				notes[6].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(6);});
					item[0].mouseout(function() {dehighlightNotes(6);});
				});
				notes[7].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(7);});
					item[0].mouseout(function() {dehighlightNotes(7);});
				});
				notes[8].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(8);});
					item[0].mouseout(function() {dehighlightNotes(8);});
				});
				notes[9].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(9);});
					item[0].mouseout(function() {dehighlightNotes(9);});
				});
				notes[10].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(10);});
					item[0].mouseout(function() {dehighlightNotes(10);});
				});
				notes[11].forEach(function(item) {
					item[0].mouseover(function() {highlightNotes(11);});
					item[0].mouseout(function() {dehighlightNotes(11);});
				});
			}
			
			function highlightNotes(note){
				document.getElementById("highlighted_note").innerHTML = noteNames[note];
				notes[note].forEach(function(item) {item[0].attr({ fill: '#33f' });});
			}
			
			function dehighlightNotes(note){
				document.getElementById("highlighted_note").innerHTML = "";
				notes[note].forEach(function(item) {item[0].attr({ fill: item[1] });});
			}
			
			function addString(){
				if(document.getElementById("string"+stringCount+"_tuning")){
					document.getElementById("string"+stringCount+"_tuning").style.display = "";
				}
				else{
					var selectedTuningValues = [];
					for(let i=0;i<stringCount;i++){
						selectedTuningValues.push(document.getElementById("string"+i+"_tuning").value);
					}
					document.getElementById("string_tuning").innerHTML += '<select id="string'+stringCount+'_tuning" class="string_tuning" onchange="drawNotes()"> <option value="0">C</option><option value="1">C#/Db</option><option value="2">D</option><option value="3">D#/Eb</option><option value="4">E</option><option value="5">F</option><option value="6">F#/Gb</option><option value="7">G</option><option value="8">G#/Ab</option><option value="9">A</option><option value="10">A#/Bb</option><option value="11">B</option> </select>';
					for(let i=0;i<stringCount;i++){
						document.getElementById("string"+i+"_tuning").value = selectedTuningValues[i];
					}
				}
				stringCount++;
				drawNotes();
			}
			
			function removeString(){
				if(stringCount>1){
					stringCount--;
					document.getElementById("string"+stringCount+"_tuning").style.display = "none";
					drawNotes();
				}
			}
			
			function setStandardStringTuning(){
				switch(document.getElementById("set_standard_string_tuning").value){
					case "guitar":
						var tuning = ["E","A","D","G","B","E"].reverse();
						tuning = tuning.map(x => noteNamesB.indexOf(x));
						while(stringCount<tuning.length){addString();}
						while(stringCount>tuning.length){removeString();}
						for(let i in tuning){ document.getElementById("string"+i+"_tuning").value = tuning[i]; }
						document.getElementById("set_standard_string_tuning").value = "none";
						drawNotes();
						break;
					case "ukulele":
						var tuning = ["G","C","E","A"].reverse();
						tuning = tuning.map(x => noteNamesB.indexOf(x));
						while(stringCount<tuning.length){addString();}
						while(stringCount>tuning.length){removeString();}
						for(let i in tuning){ document.getElementById("string"+i+"_tuning").value = tuning[i]; }
						document.getElementById("set_standard_string_tuning").value = "none";
						drawNotes();
						break;
					case "bass":
						var tuning = ["E","A","D","G"].reverse();
						tuning = tuning.map(x => noteNamesB.indexOf(x));
						while(stringCount<tuning.length){addString();}
						while(stringCount>tuning.length){removeString();}
						for(let i in tuning){ document.getElementById("string"+i+"_tuning").value = tuning[i]; }
						document.getElementById("set_standard_string_tuning").value = "none";
						drawNotes();
						break;
				}
			}
			
			function selectAllFilterType(){
				var x;
				for(let i=0;i<(x=document.getElementsByClassName("filter_type")).length;i++){
					x[i].checked=document.getElementById("filter_type_select_all").checked;
				}
				listScales(findScales(), document.getElementById("scale_results_table"), "scale_results", true);
			}
			
			function displayToggleArrow(displayDiv, arrowImg){
				if(displayDiv.style.display=="none"){
					displayDiv.style.display="";
					arrowImg.style.transform="rotate(90deg)";
				}
				else{
					displayDiv.style.display="none";
					arrowImg.style.transform="rotate(0deg)";
				}
			}
			
			var noteDuration = 0.4;
			function playScale(index, offset){
				if(offset == undefined) offset=0;
				if(index>=currentScaleBinaryUnrooted.length+1) return;
				if(currentScaleBinaryUnrooted[index%currentScaleBinaryUnrooted.length]){
					MIDI.noteOn(0, 48+index+noteNamesB.indexOf(currentRootNote), velocity, offset);
					MIDI.noteOff(0, 48+index+noteNamesB.indexOf(currentRootNote), offset + noteDuration);
					playScale(index+1,offset+noteDuration);
				}
				else{
					playScale(index+1,offset);
					return;
				}
			}
			
			function setFilterArray(array, index, buttonElement, filterSelElement){
				array[index]=1-array[index];
				buttonElement.style.background = (array[index]) ? "#aaf" : "";
				filterSelElement.checked = true;
				listScales(findScales(), document.getElementById('scale_results_table'), 'scale_results', true);
			}
			
			var relatedScalesActiveTab="similar";
			function changeRelatedScalesTabs(tabName){
				relatedScalesActiveTab = tabName;
				switch (tabName){
					case "similar":
						document.getElementById("scale_info_related_same_note_count").disabled=false;
						document.getElementById("scale_info_related_deg_separation").disabled=false;
						document.getElementById("scale_info_related_tabs_active").id = "";
						document.getElementById("scale_info_related_tabs").children[0].children[0].children[0].id = "scale_info_related_tabs_active";
						break;
					case "modes":
						document.getElementById("scale_info_related_same_note_count").disabled=true;
						document.getElementById("scale_info_related_deg_separation").disabled=true;
						document.getElementById("scale_info_related_tabs_active").id = "";
						document.getElementById("scale_info_related_tabs").children[0].children[0].children[1].id = "scale_info_related_tabs_active";
						break;
					case "sub":
						document.getElementById("scale_info_related_same_note_count").disabled=true;
						document.getElementById("scale_info_related_deg_separation").disabled=false;
						document.getElementById("scale_info_related_tabs_active").id = "";
						document.getElementById("scale_info_related_tabs").children[0].children[0].children[2].id = "scale_info_related_tabs_active";
						break;
					case "parent":
						document.getElementById("scale_info_related_same_note_count").disabled=true;
						document.getElementById("scale_info_related_deg_separation").disabled=false;
						document.getElementById("scale_info_related_tabs_active").id = "";
						document.getElementById("scale_info_related_tabs").children[0].children[0].children[3].id = "scale_info_related_tabs_active";
						break;
				}
				listScales(findRelatedScales(),document.getElementById("scale_info_related_table"),"scales_related");
			}
			
			
			document.getElementById("filter_type_table").style.display="none";
			
			if(getParameters.map(x => x.parameter).indexOf("index") > -1 && getParameters.map(x => x.parameter).indexOf("root") > -1){
				var scaleIndexPar;
				var rootNotePar;
				if((scaleIndexPar = getParameters[getParameters.map(x => x.parameter).indexOf("index")].value)!=undefined && (rootNotePar = getParameters[getParameters.map(x => x.parameter).indexOf("root")].value)!=undefined){
					rootNotePar = rootNotePar.split("");
					rootNotePar[0] = rootNotePar[0].toUpperCase();
					rootNotePar = rootNotePar.join("");
					setNewScale(scales.map(x=>parseInt(x.id)).indexOf(parseInt(scaleIndexPar)),rootNotePar);
				}
				document.getElementById('scale_playing_instruction_display_arrow').style.transform="rotate(90deg)";
				document.getElementById("scale_info_display_arrow").style.transform="rotate(90deg)";
				document.getElementById('scale_explorer_display_arrow').style.transform="rotate(90deg)";
			}
			else if(getParameters.map(x => x.parameter).indexOf("degrees") > -1 && getParameters.map(x => x.parameter).indexOf("root") > -1){
				var scaleDegreesPar;
				var rootNotePar;
				if((scaleDegreesPar = getParameters[getParameters.map(x => x.parameter).indexOf("degrees")].value)!=undefined && (rootNotePar = getParameters[getParameters.map(x => x.parameter).indexOf("root")].value)!=undefined){
					rootNotePar = rootNotePar.split("");
					rootNotePar[0] = rootNotePar[0].toUpperCase();
					rootNotePar = rootNotePar.join("");
					scaleDegreesPar = scaleDegreesPar.split("-");
					setDegrees(scaleDegreesPar,rootNotePar);
				}
				document.getElementById('scale_playing_instruction_display_arrow').style.transform="rotate(90deg)";
				document.getElementById("scale_info_display_arrow").style.transform="rotate(90deg)";
				document.getElementById('scale_explorer_display_arrow').style.transform="rotate(90deg)";
			}
			else if(localStorageAvailable){
				if(localStorage.getItem("scaleIndex") && localStorage.getItem("scaleIndex")!="" && localStorage.getItem("rootNote")){ setNewScale(scales.map(x=>parseInt(x.id)).indexOf(parseInt(localStorage.getItem("scaleIndex"))),localStorage.getItem("rootNote")); }
				else if(localStorage.getItem("scaleDegrees") && localStorage.getItem("scaleDegrees")!="" && localStorage.getItem("rootNote")){ setDegrees(localStorage.getItem("scaleDegrees").split(","),localStorage.getItem("rootNote")); }
				else{ setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2741),"C"); }
				document.getElementById('scale_playing_instruction_display_arrow').style.transform="rotate(90deg)";
				document.getElementById("scale_info_display_arrow").style.transform="rotate(90deg)";
				document.getElementById('scale_explorer_display_arrow').style.transform="rotate(90deg)";
			}
			else{
				setNewScale(scales.map(x=>parseInt(x.id)).indexOf(2741),"C");
				document.getElementById('scale_playing_instruction_display_arrow').style.transform="rotate(90deg)";
				document.getElementById("scale_info_display_arrow").style.transform="rotate(90deg)";
				document.getElementById('scale_explorer_display_arrow').style.transform="rotate(90deg)";
			}
		</script>
	</body>
</html>